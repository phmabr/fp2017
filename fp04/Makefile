all: main tak_byte tak_opt

main: welcome.ml main.ml
	ocamlopt -o main welcome.ml main.ml

tak_byte: tak.ml
	ocamlc -o tak_byte tak.ml

tak_opt: tak.ml
	ocamlopt -o tak_opt tak.ml

benchmark: tak_byte tak_opt
	@echo Running the bytecode generated by ocamlc
	@echo
	time ./tak_byte

	@echo Running the native code generated by ocamlopt
	@echo
	time ./tak_opt

clean:
	rm -f *.o *.cm* main tak_*
